package lamen.cipher;import android.app.Activity;import android.app.Dialog;import android.content.res.AssetManager;import android.graphics.Typeface;import android.net.Uri;import android.os.Bundle;import android.text.InputType;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.view.WindowManager;import android.view.animation.Animation;import android.view.animation.AnimationUtils;import android.widget.EditText;import android.widget.LinearLayout;import android.widget.TextView;import com.bumptech.glide.Glide;import java.io.IOException;import java.util.Random;import lamen.cipher.utility.StoreHandler;public class MainActivity extends Activity {    StoreHandler storeHandler;    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        storeHandler = new StoreHandler();        storeHandler.setShared(this);        Typeface font = Typeface.createFromAsset(getAssets(), "fonts/larabiefont.ttf");        TextView title_text = (TextView) findViewById(R.id.main_title_textview);        title_text.setTypeface(font);        LinearLayout list_linear = (LinearLayout) findViewById(R.id.main_list_linear);        AssetManager assetManager = getAssets();        try {            int RandomPoint = new Random().nextInt(assetManager.list("image").length - StoreHandler.ways_image.length);            for (int i = 0; i < StoreHandler.ways_image.length; i++) {                MainElement element = new MainElement(this);                element.ways_id = StoreHandler.ways_image[i];                element.text_id = StoreHandler.ways_text[i];                Glide.with(this)                        .load(Uri.parse("file:///android_asset/image/"                                + assetManager.list("image")[RandomPoint + i]))                        .centerCrop()                        .into(element.bg_image);                element.setTypeImageFromRes(StoreHandler.ways_image[i]);                element.setTypeText(getString(StoreHandler.ways_text[i]));                list_linear.addView(element);                Animation anim = AnimationUtils.loadAnimation(getApplicationContext(), R.anim.float_anim);                anim.setStartTime(277 * i);                anim.setDuration(500 + 277 * i);                element.startAnimation(anim);            }        } catch (IOException e) {            e.printStackTrace();        }    }    Dialog dialog;    EditText doublepw_input;    public void ShowDoublePWDialog() {        dialog = new Dialog(this, R.style.dialog);        LayoutInflater inflater = getLayoutInflater();        View layout = inflater.inflate(R.layout.doublepassword_layout, (ViewGroup) findViewById(R.id.setting_linear));        TextView confirm = (TextView) layout.findViewById(R.id.doublepassword_confirm);        doublepw_input = (EditText) layout.findViewById(R.id.doublepassword_editText);        confirm.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                storeHandler.setDoublePW(doublepw_input.getText().toString());                dialog.cancel();            }        });        if (storeHandler.getDoublePW() != "DoublePW") {            doublepw_input.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);            doublepw_input.setText(storeHandler.getDoublePW());        }        doublepw_input.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                doublepw_input.setText("");                doublepw_input.setInputType(InputType.TYPE_CLASS_TEXT);            }        });        WindowManager.LayoutParams lp = new WindowManager.LayoutParams();        lp.copyFrom(dialog.getWindow().getAttributes());        lp.width = getWindowManager().getDefaultDisplay().getWidth() * 8 / 10;        lp.height = getWindowManager().getDefaultDisplay().getHeight() * 4 / 10;        dialog.setContentView(layout);        dialog.show();        dialog.getWindow().setAttributes(lp);    }}